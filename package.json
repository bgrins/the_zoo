{
  "name": "the_zoo_monorepo",
  "private": true,
  "version": "0.0.3",
  "description": "The Zoo browser automation environment",
  "type": "module",
  "workspaces": ["cli"],
  "engines": {
    "node": ">=20.0.0"
  },
  "author": "",
  "repository": {
    "type": "git",
    "url": "https://github.com/bgrins/the_zoo.git"
  },
  "scripts": {
    "cli": "./dist/bin/thezoo.js",
    "cli:dev": "tsx cli/bin/thezoo.ts --",
    "cli:crawler": "docker compose exec zoo-crawler npm run cli --",
    "start": "npm run build:cli && docker compose --profile '*' build && docker compose --profile '*' up -d --no-start --remove-orphans --force-recreate --quiet-pull && docker compose up -d --quiet-pull",
    "start:ci": "npm run build:cli && docker compose up -d --quiet-pull",
    "start:all": "docker compose --profile '*' up -d",
    "start:tools": "docker compose --profile 'tools' up -d",
    "start:ondemand": "docker compose --profile 'on_demand' up -d",
    "stop": "docker compose --profile '*' down --remove-orphans -v -t 0",
    "start:fresh": "docker compose --env-file .env.fresh  --progress 'quiet' --profile '*' build && docker compose --env-file .env.fresh --profile '*' up -d --no-start --remove-orphans --force-recreate --quiet-pull && docker compose --env-file .env.fresh up -d --quiet-pull",
    "stop:fresh": "docker compose --env-file .env.fresh --profile '*' down --remove-orphans -v -t 0",
    "start:packages": "docker compose -f docker-compose.yaml -f docker-compose.packages.yaml --progress 'quiet' --profile '*' build && docker compose -f docker-compose.yaml -f docker-compose.packages.yaml --profile '*' up -d --no-start --remove-orphans --force-recreate --quiet-pull && docker compose -f docker-compose.yaml -f docker-compose.packages.yaml up -d --quiet-pull",
    "stop:packages": "docker compose -f docker-compose.yaml -f docker-compose.packages.yaml --profile '*' down --remove-orphans -v -t 0",
    "browse": "tsx --env-file-if-exists=.env scripts/manual-interactive.ts",
    "browse:mcp": "node --env-file-if-exists=.env --input-type=module -e \"import {spawn} from 'node:child_process'; spawn('npx @playwright/mcp@latest --ignore-https-errors --browser firefox --isolated --proxy-server http://localhost:' + (process.env.ZOO_PROXY_PORT || '3128'), {shell:true,stdio:'inherit'})\"",
    "screenshot": "tsx scripts/capture-screenshots.ts",
    "generate-config": "tsx scripts/generate-config.ts",
    "test": "vitest run",
    "test:all": "vitest run --exclude=''",
    "test:watch": "vitest watch",
    "test:ui": "vitest --ui",
    "test:cli": "vitest run tests/cli --reporter=dot",
    "test:smoke": "vitest run tests/smoke --reporter=dot",
    "test:sites": "vitest run tests/sites --reporter=dot",
    "test:integration": "vitest run tests/integration --reporter=dot",
    "test:fresh": "npm run start:fresh && vitest run tests/fresh --reporter=dot ; npm run stop:fresh",
    "test:tools": "vitest run tests/tools",
    "test:playwright": "vitest run tests/playwright",
    "test:infrastructure": "RUN_INFRASTRUCTURE_TESTS=1 vitest run tests/infrastructure --pool=forks --poolOptions.forks.singleFork=true",
    "docker:logs": "docker compose logs -f",
    "lint": "biome lint .",
    "lint:fix": "biome lint . --fix",
    "fmt": "dprint check",
    "fmt:fix": "dprint fmt",
    "fix": "npm run lint:fix && npm run fmt:fix",
    "typecheck": "tsc --noEmit",
    "precommit": "npm run fix && npm run lint && npm run fmt && npm run typecheck",
    "prepare": "husky",
    "build:cli": "npm run generate-config && tsx scripts/build-cli.ts",
    "publish:cli": "npm run build:cli && npm test && cd dist && npm publish",
    "publish:cli:dry": "npm run build:cli && cd dist && npm pack --dry-run",
    "update-lockfiles": "tsx scripts/update-npm-lockfiles.ts --lockfile-only",
    "update-versions": "tsx scripts/update-npm-lockfiles.ts",
    "search-admin": "tsx scripts/search-admin.ts",
    "seed": "tsx scripts/seed.ts",
    "universe:load": "tsx scripts/load-universe.ts",
    "universe:list": "tsx scripts/load-universe.ts -- --list"
  },
  "devDependencies": {
    "@biomejs/biome": "2.0.5",
    "@types/node": "^20.11.24",
    "@vitest/ui": "^3.2.3",
    "dotenv": "^17.2.0",
    "dprint": "^0.50.0",
    "esbuild": "^0.25.5",
    "globals": "^16.2.0",
    "husky": "^9.1.7",
    "lint-staged": "^16.1.5",
    "playwright": "^1.53.1",
    "tsx": "^4.20.3",
    "typescript": "^5.8.3",
    "undici": "^7.11.0",
    "vitest": "^3.2.3",
    "wrangler": "^4.24.3",
    "yaml": "^2.8.0"
  },
  "lint-staged": {
    "*.{js,ts,jsx,tsx}": ["biome lint --fix", "dprint fmt"],
    "*.{json,md,yaml,yml}": ["dprint fmt"],
    "**/*.{ts,tsx}": "bash -c 'npm run typecheck'"
  }
}
