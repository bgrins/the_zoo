dev: true

serve:
  cookies:
    same_site_mode: Lax
  public:
    host: 0.0.0.0
    port: 4444
    cors:
      enabled: true
      allowed_origins:
        - https://*.zoo
        - http://*.zoo
      allowed_methods:
        - POST
        - GET
        - PUT
        - PATCH
        - DELETE
      allowed_headers:
        - Authorization
        - Content-Type
      exposed_headers:
        - Content-Type
  admin:
    host: 0.0.0.0
    port: 4445

dsn: postgres://auth_user:auth_pw@postgres.zoo/auth_db?sslmode=disable

urls:
  self:
    issuer: https://auth.zoo
    public: https://auth.zoo
  consent: https://auth.zoo/consent
  login: https://auth.zoo/login
  logout: https://auth.zoo/logout
  post_logout_redirect: https://auth.zoo/
  error: https://auth.zoo/error

secrets:
  system:
    - youReallyNeedToChangeThis

oidc:
  subject_identifiers:
    supported_types:
      - public
      - pairwise
    pairwise:
      salt: youReallyNeedToChangeThis

webfinger:
  oidc_discovery:
    supported_claims:
      - email
      - email_verified
      - name
      - given_name
      - family_name
      - middle_name
      - nickname
      - preferred_username
      - profile
      - picture
      - website
      - gender
      - birthdate
      - zoneinfo
      - locale
      - updated_at
      - phone_number
      - phone_number_verified
    supported_scope:
      - offline_access
      - offline
      - openid
      - profile
      - email

oauth2:
  expose_internal_errors: true
  grant:
    jwt:
      iat_optional: true
